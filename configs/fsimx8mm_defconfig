# F&S default config
# U-Boot 2018.03 Configuration
#
CONFIG_CREATE_ARCH_SYMLINK=y
CONFIG_ARM=y
CONFIG_SYS_ARCH="arm"
CONFIG_SYS_CPU="armv8"
CONFIG_SYS_SOC="imx8m"
CONFIG_SYS_VENDOR="F+S"
CONFIG_SYS_BOARD="fsimx8mm"
CONFIG_SYS_CONFIG_NAME="fsimx8mm"

#
# ARM architecture
#
CONFIG_ARM64=y
CONFIG_STATIC_RELA=y
CONFIG_DMA_ADDR_T_64BIT=y
CONFIG_ARM_ASM_UNIFIED=y
CONFIG_SYS_ARM_ARCH=8
CONFIG_SYS_CACHE_SHIFT_6=y
CONFIG_SYS_CACHELINE_SIZE=64
CONFIG_ARM64_SUPPORT_AARCH32=y
CONFIG_ARCH_IMX8M=y
CONFIG_SPL_LDSCRIPT="arch/arm/cpu/armv8/u-boot-spl.lds"
CONFIG_SYS_TEXT_BASE=0x40200000
CONFIG_SYS_MALLOC_F_LEN=0x2000
CONFIG_IMX8M=y
CONFIG_IMX8MM=y
CONFIG_TARGET_FSIMX8MM=y
CONFIG_SPL_MMC_SUPPORT=y
CONFIG_IDENT_STRING=" for F&S"

#
# ARMv8 secure monitor firmware
#
CONFIG_HAS_CAAM=y
CONFIG_ROM_UNIFIED_SECTIONS=y
CONFIG_FSL_CAAM_KB=y
CONFIG_IMX_SEC_INIT=y

#
# ARM debug
#
CONFIG_DEFAULT_DEVICE_TREE="picocoremx8mm"
CONFIG_SMBIOS_PRODUCT_NAME="fsimx8mm"

#
# General setup
#
CONFIG_LOCALVERSION=""
CONFIG_LOCALVERSION_AUTO=y
CONFIG_CC_OPTIMIZE_FOR_SIZE=y
CONFIG_SYS_MALLOC_F=y
CONFIG_SPL_SYS_MALLOC_F_LEN=0x2000
CONFIG_TPL_SYS_MALLOC_F_LEN=0x2000
CONFIG_EXPERT=y
CONFIG_SYS_MALLOC_CLEAR_ON_INIT=y
CONFIG_PHYS_64BIT=y

#
# Boot images
#
CONFIG_ANDROID_BOOT_IMAGE=y
CONFIG_FIT=y
CONFIG_FIT_ENABLE_SHA256_SUPPORT=y
CONFIG_SPL_FIT=y
CONFIG_SPL_LOAD_FIT=y
CONFIG_SPL_FIT_SOURCE=""
CONFIG_SPL_FIT_GENERATOR=""
CONFIG_SYS_EXTRA_OPTIONS="IMX_CONFIG=board/F+S/fsimx8mm/fsimx8mmimage.cfg,SPL_TEXT_BASE=0x7E1000"
CONFIG_ARCH_FIXUP_FDT_MEMORY=y

#
# API
#

#
# Boot timing
#
CONFIG_BOOTSTAGE_RECORD_COUNT=30
CONFIG_SPL_BOOTSTAGE_RECORD_COUNT=5
CONFIG_BOOTSTAGE_STASH_ADDR=0
CONFIG_BOOTSTAGE_STASH_SIZE=0x1000

#
# Boot media
#
CONFIG_BOOTDELAY=2

#
# Console
#
CONFIG_LOGLEVEL=4
CONFIG_SPL_LOGLEVEL=4
CONFIG_CONSOLE_MUX=n
CONFIG_SYS_CONSOLE_IS_IN_ENV=y
CONFIG_SYS_CONSOLE_ENV_OVERWRITE=y

#
# Logging
#
CONFIG_DEFAULT_FDT_FILE="picocoremx8mm.dtb"
CONFIG_DISPLAY_CPUINFO=y
CONFIG_DISPLAY_BOARDINFO=y

#
# Start-up hooks
#
CONFIG_ARCH_MISC_INIT=y

#
# Security support
#
CONFIG_HASH=y

#
# Update support
#

#
# SPL / TPL
#
CONFIG_SUPPORT_SPL=y
CONFIG_SPL=y
CONFIG_SPL_FRAMEWORK=y
CONFIG_SPL_BOARD_INIT=y
CONFIG_SPL_RAW_IMAGE_SUPPORT=y
CONFIG_SPL_LEGACY_IMAGE_SUPPORT=y
CONFIG_SPL_FIT_IMAGE_TINY=y
CONFIG_SPL_CRYPTO_SUPPORT=y
CONFIG_SPL_USB_HOST_SUPPORT=y
CONFIG_SPL_USB_GADGET_SUPPORT=y
CONFIG_SPL_USB_SDP_SUPPORT=y
CONFIG_SPL_ATF=y

#
# Command line interface
#
CONFIG_CMDLINE=y
CONFIG_HUSH_PARSER=y
CONFIG_CMDLINE_EDITING=y
CONFIG_AUTO_COMPLETE=y
CONFIG_SYS_LONGHELP=y
CONFIG_SYS_PROMPT="=> "

#
# Autoboot options
#
CONFIG_AUTOBOOT=y

#
# FASTBOOT
#
CONFIG_FASTBOOT=y
CONFIG_USB_FUNCTION_FASTBOOT=y
CONFIG_CMD_FASTBOOT=y
CONFIG_FSL_FASTBOOT=y
CONFIG_FASTBOOT_STORAGE_MMC=y
CONFIG_FASTBOOT_BUF_ADDR=0x42800000
CONFIG_FASTBOOT_BUF_SIZE=0x40000000
CONFIG_FASTBOOT_USB_DEV=0
CONFIG_FASTBOOT_FLASH=y
CONFIG_FASTBOOT_FLASH_MMC=y
CONFIG_FASTBOOT_FLASH_MMC_DEV=0
CONFIG_FASTBOOT_GPT_NAME="gpt"
CONFIG_FASTBOOT_MBR_NAME="mbr"

#
# Commands
#

#
# Info commands
#
CONFIG_CMD_BDI=y
CONFIG_CMD_CONSOLE=y

#
# Boot commands
#
CONFIG_CMD_BOOTD=y
CONFIG_CMD_BOOTM=y
CONFIG_CMD_BOOTI=y
CONFIG_CMD_BOOTEFI=y
CONFIG_CMD_BOOTEFI_HELLO_COMPILE=y
CONFIG_CMD_ELF=y
CONFIG_CMD_FDT=y
CONFIG_CMD_GO=y
CONFIG_CMD_RUN=y
CONFIG_CMD_IMI=y
CONFIG_CMD_XIMG=y

#
# Environment commands
#
CONFIG_CMD_EXPORTENV=y
CONFIG_CMD_IMPORTENV=y
CONFIG_CMD_EDITENV=y
CONFIG_CMD_SAVEENV=y
CONFIG_CMD_ENV_EXISTS=y

#
# Memory commands
#
CONFIG_CMD_CRC32=y
CONFIG_CMD_MEMORY=y
CONFIG_CMD_MEMTEST=y

#
# Compression commands
#
CONFIG_CMD_LZMADEC=y
CONFIG_CMD_UNZIP=y

#
# Device access commands
#
CONFIG_CMD_DM=y
CONFIG_CMD_FLASH=y
CONFIG_CMD_GPIO=y
CONFIG_CMD_I2C=y
CONFIG_CMD_LOADB=y
CONFIG_CMD_LOADS=y
#CONFIG_CMD_SF=y

#
# Shell scripting commands
#
CONFIG_CMD_ECHO=y
CONFIG_CMD_ITEST=y
CONFIG_CMD_SOURCE=y
CONFIG_CMD_SETEXPR=y

#
# Network commands
#
CONFIG_CMD_NET=y
CONFIG_CMD_NFS=y

#
# Misc commands
#
CONFIG_CMD_CACHE=y
CONFIG_CMD_MISC=y

#
# TI specific command line interface
#

#
# Power commands
#
CONFIG_CMD_REGULATOR=y

#
# Security commands
#

#
# Firmware commands
#

#
# Filesystem commands
#
# CONFIG_CMD_BTRFS is not set
CONFIG_CMD_EXT2=y
CONFIG_CMD_EXT4=y
CONFIG_CMD_EXT4_WRITE=y
CONFIG_CMD_FAT=y
CONFIG_CMD_MTDPARTS=y
CONFIG_MTDIDS_DEFAULT=""
CONFIG_MTDPARTS_DEFAULT=""

#
# Debug commands
#
CONFIG_CMD_UBI=y
CONFIG_CMD_UBIFS=y

#
# Partition Types
#
CONFIG_PARTITIONS=y
CONFIG_DOS_PARTITION=y
CONFIG_SPL_DOS_PARTITION=y
CONFIG_EFI_PARTITION=y
CONFIG_EFI_PARTITION_ENTRIES_NUMBERS=128
CONFIG_EFI_PARTITION_ENTRIES_OFF=0
CONFIG_SPL_EFI_PARTITION=y
CONFIG_PARTITION_UUIDS=y
CONFIG_SPL_PARTITION_UUIDS=y
CONFIG_SUPPORT_OF_CONTROL=y
CONFIG_DTC=y

#
# Device Tree Control
#
CONFIG_OF_CONTROL=y
CONFIG_OF_SEPARATE=y
CONFIG_OF_LIST="picocoremx8mm"
CONFIG_MKIMAGE_DTC_PATH="dtc"

#
# Environment
#
CONFIG_ENV_IS_IN_NAND=y
CONFIG_NET=y
CONFIG_NET_TFTP_VARS=y
CONFIG_BOOTP_PXE_CLIENTARCH=0x16
CONFIG_BOOTP_VCI_STRING="U-Boot.armv8"

#
# Device Drivers
#

#
# Generic Driver Options
#
CONFIG_DM=y
CONFIG_DM_WARN=y
CONFIG_DM_DEVICE_REMOVE=y
CONFIG_DM_STDIO=y
CONFIG_DM_SEQ_ALIAS=y
CONFIG_DEVRES=y
CONFIG_SIMPLE_BUS=y
CONFIG_OF_TRANSLATE=y
CONFIG_DM_DEV_READ_INLINE=y

#
# SATA/SCSI device support
#
CONFIG_BLK=y
CONFIG_HAVE_BLOCK_DEVICE=y

#
# Clock
#

#
# Hardware crypto devices
#
CONFIG_SYS_FSL_SEC_COMPAT_4=y
CONFIG_SYS_FSL_SEC_LE=y

#
# Demo for driver model
#
CONFIG_IMX8M_DRAM=y
CONFIG_IMX8M_LPDDR4=y
CONFIG_SAVED_DRAM_TIMING_BASE=0x180000

#
# DFU support
#

#
# DMA Support
#

#
# FPGA support
#

#
# GPIO Support
#
CONFIG_DM_GPIO=y

#
# I2C support
#
CONFIG_DM_I2C=y
CONFIG_SYS_I2C_MXC=y

#
# LED Support
#

#
# Mailbox Controller Support
#

#
# Memory Controller drivers
#

#
# Multifunction device drivers
#
CONFIG_ZYNQ_GEM_I2C_MAC_OFFSET=0x0

#
# MMC Host controller Support
#
CONFIG_MMC=y
CONFIG_MMC_WRITE=y
CONFIG_DM_MMC=y
CONFIG_MMC_QUIRKS=y
CONFIG_MMC_HW_PARTITIONING=y
CONFIG_MMC_VERBOSE=y

#
# MTD Support
#

#
# SPI Flash Support
#
#CONFIG_DM_SPI_FLASH=y
#CONFIG_SPI_FLASH=y
#CONFIG_SPI_FLASH_STMICRO=y
#CONFIG_SPI_FLASH_USE_4K_SECTORS=y

#
# UBI support
#
CONFIG_MTD_UBI=y
CONFIG_MTD_UBI_WL_THRESHOLD=4096
CONFIG_MTD_UBI_BEB_LIMIT=20
CONFIG_DM_ETH=y
CONFIG_NETDEVICES=y

#
# PHY Subsystem
#

#
# Pin controllers
#
CONFIG_PINCTRL=y
CONFIG_PINCTRL_FULL=y
CONFIG_PINCTRL_GENERIC=y
CONFIG_PINMUX=y
CONFIG_PINCTRL_IMX=y
CONFIG_PINCTRL_IMX8M=y

#
# Power
#

#
# Power Domain Support
#
CONFIG_DM_PMIC=y
CONFIG_PMIC_CHILDREN=y
CONFIG_SPL_PMIC_CHILDREN=y
CONFIG_DM_REGULATOR=y
CONFIG_DM_REGULATOR_FIXED=y
CONFIG_DM_REGULATOR_GPIO=y

#
# Remote Processor drivers
#

#
# Reset Controller Support
#

#
# Real Time Clock
#

#
# Serial drivers
#
CONFIG_BAUDRATE=115200

#
# Sound support
#
# CONFIG_SOUND is not set

#
# SPI Support
#
#CONFIG_DM_SPI=y
#CONFIG_FSL_FSPI=y

#
# SPMI support
#

#
# System reset device drivers
#
CONFIG_DM_THERMAL=y
CONFIG_NXP_TMU=y

#
# Timer Support
#

#
# TPM support
#
CONFIG_USB=y
CONFIG_DM_USB=y

#
# USB Host Controller Drivers
#
CONFIG_USB_HOST=y
CONFIG_USB_EHCI_HCD=y
CONFIG_USB_EHCI_MX7=y

#
# Legacy MUSB Support
#

#
# MUSB Controller Driver
#

#
# USB Phy
#


#
# ULPI drivers
#

#
# USB peripherals
#
CONFIG_USB_GADGET=y
CONFIG_USB_GADGET_MANUFACTURER="FSL"
CONFIG_USB_GADGET_VENDOR_NUM=0x0525
CONFIG_USB_GADGET_PRODUCT_NUM=0xa4a5
CONFIG_USB_GADGET_VBUS_DRAW=2
CONFIG_SDP_LOADADDR=0x40400000
CONFIG_USB_GADGET_DOWNLOAD=y

#
# Graphics support
#

#
# TrueType Fonts
#
CONFIG_VIDEO=y
CONFIG_IMX_MIPI_DSI_BRIDGE=y
CONFIG_IMX_SEC_MIPI_DSI=y
CONFIG_NT35521=y
CONFIG_CFB_CONSOLE=y
CONFIG_VGA_AS_SINGLE_DEVICE=y
CONFIG_VIDEO_SW_CURSOR=y
CONFIG_CONSOLE_SCROLL_LINES=1
CONFIG_SYS_CONSOLE_BG_COL=0x00
CONFIG_SYS_CONSOLE_FG_COL=0xa0

#
# Watchdog Timer Support
#

#
# File systems
#
CONFIG_FS_EXT4=y
CONFIG_EXT4_WRITE=y
CONFIG_FS_FAT=y
# disable orig driver
CONFIG_FAT_ORIG=n
# use F&S optimized driver
CONFIG_FAT_FUS=y

#
# Library routines
#
CONFIG_LIB_UUID=y
CONFIG_SYS_HZ=1000
CONFIG_REGEX=y
CONFIG_RBTREE=y

#
# Security support
#

#
# Hashing Support
#
CONFIG_SHA1=y
CONFIG_SHA256=y
CONFIG_MD5=y

#
# Compression Support
#
CONFIG_LZMA=y
CONFIG_LZO=y
CONFIG_OF_LIBFDT=y
CONFIG_SPL_OF_LIBFDT=y

#
# System tables
#
CONFIG_GENERATE_SMBIOS_TABLE=y
CONFIG_SMBIOS_MANUFACTURER="F+S"
